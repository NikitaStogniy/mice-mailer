<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: 'Inter', sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-style: normal;
        font-variation-settings: 'slnt' 0;
        margin: 0;
      }
      * {
        margin: 0;
        padding: 0;
      }

      .mb-10 {
        margin-bottom: 10px;
      }
      .wrapper {
        max-width: 595px;
        margin: 0 auto;
        padding: 55px 44px;
        box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
      }
      .header {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 65px;
      }
      .header h1 {
        font-size: 20px;
        font-weight: light;
      }
      .contact-info {
        display: flex;
        flex-direction: row;
        font-size: 12px;
        gap: 10px;
      }
      .total {
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
      }
      .h2 {
        font-size: 22px;
        font-weight: 600;
        margin-bottom: 36px;
      }
      .h3 {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 10px;
      }
      .table-header {
        font-weight: 600;
        background: #f0f0f0;
      }
      .contact-wrapper {
        margin-bottom: 33px;
      }
      .request-info {
        font-size: 12px;
      }
      .request-wrapper {
        margin-bottom: 23px;
      }
      .table-wrapper {
        margin-bottom: 12px;
      }
      table {
        font-size: 12px;
        border-collapse: collapse;
        width: 100%;
      }

      td,
      th {
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even) {
        background-color: #dddddd;
      }
      .total-h3-wrapper {
        padding: 4px;
        background: #cccccc;
        margin-right: 10px;
      }
      .h3-total {
        font-weight: 600;
        font-size: 12px;
      }
      .most-total-wrapper {
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
        gap: 8px;
        margin-top: 23px;
      }
      .h2-total {
        font-size: 18px;
        font-weight: 600;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
      }
      .flex-column-end {
        display: flex;
        justify-content: end;
        align-items: end;
        flex-direction: column;
      }
      .inline-block {
        display: inline-block;
      }
      .bg-blue {
        background-color: #2a3eb1;
      }
      .bg-white {
        background-color: white;
      }
      .text-white {
        color: white;
      }
      .text-bold {
        font-weight: bold;
      }
      .text-right {
        text-align: right;
      }
      .padding-8 {
        padding: 8px;
      }
      .padding-5-10 {
        padding: 5px 10px;
      }
      .border-1 {
        border: 1px solid #ddd;
      }
      .border-radius-8 {
        border-radius: 8px;
      }
      .border-radius-bottom-left-8 {
        border-radius: 0 0 0 8px;
      }
      .margin-0 {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="mb-10">
        <img class="mb-10" src="./MICEBOOKING.svg" alt="Google" />
        <h1 class="text-bold" style="font-size: 20px; color: #000">
          Запрос №{{request.id}} . {{request.client.name}}
        </h1>
      </div>
      <hr class="mb-10" />
      <div class="grid-2 mb-10">
        <h3>Название Мероприятия:</h3>
        <p>
          {{request.client.name}}
        </p>
      </div>
      <div class="grid-2 mb-10">
        <h3>Ориентировочные даты проведения:</h3>
        <p>{{request.date_from}} - {{request.date_to}}</p>
      </div>
      <div class="grid-2 mb-10">
        <h3>Заказчик:</h3>
        <p>
          {{request.client.name}}
          {{request.client.address}}
          Телефон ({{request.client.phone}})
          Email {{request.client.email}}
          ОКПО {{request.client.okpo}}
          ОГРН {{request.client.ogrn}}
          ИНН {{request.client.inn}}
          {{request.client.inn}}/{{request.client.kpp}}
        </p>
      </div>
      <div class="grid-2">
        <h3>Контактное лицо:</h3>
        <p>{{request.client.contact_name}} {{request.client.contact_email}} {{request.client.contact_phone}}</p>
      </div>
      {{#if request.halls}}
      <div>
        <h3>Залы</h3>
        <div class="flex-column-end">
          <table class="border-radius-8" style="overflow: hidden">
            <tr class="bg-blue text-white">
              <th class="padding-8 border-1">Название зала</th>
              <th class="padding-8 border-1">Рассадка</th>
              <th class="padding-8 border-1">Количество дней</th>
              <th class="padding-8 border-1">Стоимость</th>
            </tr>
            {{#each request.halls as |hall|}}
            <tr>
              <td class="padding-8 border-1">{{hall.name}}</td>
              <td class="padding-8 border-1">{{hall.seating}}</td>
              <td class="padding-8 border-1">{{hall.days}} дня</td>
              <td class="padding-8 border-1">{{hall.cost}} руб.</td>
            </tr>
            {{/each}}
          </table>
          <div class="total-wrapper">
            <p
              class="inline-block bg-blue text-white padding-5-10 border-radius-bottom-left-8 margin-0"
            >
              Итого:
            </p>
            <p class="inline-block text-bold padding-5-10 margin-0">
              {{request.hallsTotalCost}} руб.
            </p>
          </div>
        </div>
      </div>
      {{/if}}
      {{#if request.food}}
      <div>
        <h3>Питание</h3>
        <div class="flex-column-end">
          <table class="border-radius-8" style="overflow: hidden">
            <tr class="bg-blue text-white">
              <th class="padding-8 border-1">Название пакета</th>
              <th class="padding-8 border-1">Количество, шт</th>
              <th class="padding-8 border-1">Количество персон</th>
              <th class="padding-8 border-1">Стоимость</th>
            </tr>
            {{#each request.food as |foodItem|}}
            <tr>
              <td class="padding-8 border-1">{{foodItem.packageName}}</td>
              <td class="padding-8 border-1">{{foodItem.quantity}}</td>
              <td class="padding-8 border-1">{{foodItem.persons}}</td>
              <td class="padding-8 border-1">{{foodItem.cost}} руб.</td>
            </tr>
            {{/each}}
          </table>
          <div class="total-wrapper">
            <p
              class="inline-block bg-blue text-white padding-5-10 border-radius-bottom-left-8 margin-0"
            >
              Итого:
            </p>
            <p class="inline-block text-bold padding-5-10 margin-0">
              {{request.foodTotalCost}} руб.
            </p>
          </div>
        </div>
      </div>
      {{/if}}
      {{#if request.rooms}}
      <div>
        <h3>Проживание</h3>
        <div class="flex-column-end">
          <table class="border-radius-8" style="overflow: hidden">
            <tr class="bg-blue text-white">
              <th class="padding-8 border-1">Название номера</th>
              <th class="padding-8 border-1">Количество</th>
              <th class="padding-8 border-1">Количество ночей</th>
              <th class="padding-8 border-1">Стоимость</th>
            </tr>
            {{#each request.rooms as |room|}}
            <tr>
              <td class="padding-8 border-1">{{room.name}}</td>
              <td class="padding-8 border-1">{{room.quantity}}</td>
              <td class="padding-8 border-1">{{room.nights}}</td>
              <td class="padding-8 border-1">{{room.cost}} руб.</td>
            </tr>
            {{/each}}
          </table>
          <div class="total-wrapper">
            <p
              class="inline-block bg-blue text-white padding-5-10 border-radius-bottom-left-8 margin-0"
            >
              Итого:
            </p>
            <p class="inline-block text-bold padding-5-10 margin-0">
              {{request.roomsTotalCost}} руб.
            </p>
          </div>
        </div>
      </div>
      {{/if}}
    </div>
  </body>
</html>
